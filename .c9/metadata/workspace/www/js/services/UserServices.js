{"changed":true,"filter":false,"title":"UserServices.js","tooltip":"/www/js/services/UserServices.js","value":"(function(){\n\n    angular.module('myApp')\n        .factory('UserService', ['$http', '$rootScope', '$location', SocketService]);\n\n    function SocketService($http, $rootScope, $location){\n\n        var isLogged = function () {\n            $http.get('/profile').then(function (result) {\n                if(result.data.user !== undefined && result.data.user !== null) {\n                    console.log(result);\n                    $rootScope.loginSuccess = false;\n                    console.log(result.data.user);\n                    if(result.data.user !== $rootScope.user) {\n                        $rootScope.loginSuccess = true;\n                        $rootScope.user = result.data.user;\n                    }\n                    return true;\n                }\n                else{\n                    $location.path(\"/login\")\n                    return false;\n                }\n            });\n        };\n        return {\n            isLoggedIn: isLogged\n        }\n    }\n})();","undoManager":{"mark":-2,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":15,"column":59},"end":{"row":15,"column":59},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1494885849018}